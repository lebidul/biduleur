# =========================
# Configuration mensuelle
# =========================

# Label du mois (optionnel, juste pour les logs)
month_label: "2025-09"

# Chemins relatifs à la racine du projet
input_html: "misenpageur/fichier_biduleur/biduleur_bullets.html"   # fichier HTML source
template_pdf: "misenpageur/templates/bidul_template.pdf"  # gabarit optionnel (non utilisé en sortie ici)
output_pdf: "misenpageur/bidul/bidul_prototype.pdf"      # chemin du PDF généré

logos_dir: "misenpageur/assets/logos"   # dossier contenant jusqu'à 10 logos
cover_image: "misenpageur/assets/couv/couverture.png"  # image de couverture
nobr_file: "misenpageur/assets/textes/nobr.txt"
ours_md: "misenpageur/assets/ours/ours.md"   # fichier texte constant (ours)
ours_svg: "misenpageur/assets/ours/ours_template.svg"

# =========================
# Paramètres typographiques
# =========================

# Police utilisée (assure-toi que ArialNarrow est installée et déclarée dans ReportLab,
# sinon change pour Helvetica ou Liberation Sans Narrow)
font_name: "Arial Narrow"

# Taille de police : min/max autorisées pour le shrink
font_size_min: 5
font_size_max: 30.0

font_size_mode: auto  # ou "force"
#font_size_mode: force  # ou "force"
font_size_forced: 7.9

# Ratio entre taille et interligne (leading = font_size * leading_ratio)
leading_ratio: 1.12

# =========================
# Marges internes
# =========================

# Pour ne PAS avoir de marge → 0
inner_padding: 2

# =========================
# Répartition du texte HTML
# =========================

# Ordre d’alimentation des sections texte
# (attention: le rendu final est en 2 pages :
#  page 1 = S1,S2,S3,S4 ; page 2 = S5,S6,S7,S8)
text_sections_order:
  - "S5"
  - "S6"
  - "S3"
  - "S4"

# Espacement (pt)
date_spaceBefore: 4
date_spaceAfter: 4

event_spaceBefore: 1
event_spaceAfter: 1

event_spaceAfter_perLine: 0.4
min_event_spaceAfter: 1
# Spécifique à S5 : pas de marge avant pour la 1re ligne non-événement (ex. "En bref")
first_non_event_spaceBefore_in_S5: 0

# Césure utile
split_min_gain_ratio: 0.10 # n’autoriser la césure A→B que si elle comble ≥10% de la hauteur de la section A (et ≥1 ligne)

# Bullets / hanging indent
show_event_bullet: true
event_bullet_replacement: null
event_hanging_indent: 13     # Marge gauche totale pour les lignes d'événement
bullet_text_indent: 1       # Position de la puce par rapport au texte (négatif = à gauche)

# Date box (bloc)
date_box:
  enabled: false
  padding: 3
  border_width: 0
  border_color: "#000000"
  back_color: "#f2f2f2"

# Configuration de la ligne horizontale pour les dates (Jeudi 25, etc.)
date_line:
  enabled: true       # Mettre à true pour afficher la ligne, false pour la cacher
  width: 1.5         # Épaisseur de la ligne en points (0.5 est fin)
  color: "#000000"    # Couleur de la ligne au format hexadécimal
  gap_after_text_mm: 3.0

auteur_couv: ""
auteur_couv_url: ""

# Qualité impression / prépresse
prepress:
  convert_images: false          # Convertir les images en CMYK avant insertion
  jpeg_quality: 95              # Qualité JPEG lors de la conversion (85–100)
  min_effective_dpi: 300        # Alerte si l'image descend sous ce DPI
  max_effective_dpi: 450        # (optionnel) Surdimension > ce DPI -> on peut réduire (pour le poids)
  cmyk_profile: ""              # (optionnel) ICC CMYK pour une meilleure conversion (ex: "CoatedFOGRA39.icc")

  add_crop_marks: false          # Tracer des traits de coupe
  bleed_mm: 0                   # Fond perdu (mm) pour la page (cosmétique des repères visuels)

  # Post-traitement PDF/X via Ghostscript (facultatif, avancé)
  pdfx: false                   # true -> tente une conversion PDF/X-1a
  ghostscript_path: "gswin64c"  # Chemin `gswin64c` (Windows) ou `gs` (macOS/Linux)
  pdfx_icc: ""                  # ICC de sortie (ex: ISOcoated_v2_300_eci.icc) si pdfx:true

s1_split:
  logos_ratio: 0.5
  gutter: 6            # (optionnel) gouttière verticale entre logos et ours

pdf_layout:
  page_margin_mm: 1 # Marge globale sur la page A4, en millimètres
  section_spacing_mm: 1 # Espacement entre les sections A5, si désiré

section_1:
  # Configuration de la colonne "Ours"
  ours_font_name: "Arial"      # Police de l'ours
  ours_font_size: 7.0            # Taille de la police de l'ours
  ours_line_spacing: 1.3       # Interlignage (ex: 1.2 = 120%)
  ours_background_png: "misenpageur/assets/ours/ours_template.png"
  # Configuration titre du QR code
  qr_code_title: "Agenda culturel"
  qr_code_title_font_name: "Arial-Bold"
  qr_code_title_font_size: 9
  # --- Zone pour l'Auteur ---
  auteur_pos_x_mm: 25
  auteur_pos_y_mm: 47
  auteur_font_name: "Arial-Bold" # Choisissez une police simple et standard
  auteur_font_size: 9
  auteur_align: "center"

  # Configuration du QR Code
  qr_code_value: "https://www.lebidul.com" # L'URL ou le texte du QR code
  qr_code_height_mm: 32        # Hauteur (et largeur) du QR code en mm

  # Configuration de la colonne "Logos"
  additional_box_height_mm: 35 # Hauteur de la "boîte additionnelle" sous les logos
  logo_box_bottom_margin_mm: 0 # Marge entre la zone des logos et la boîte additionnelle

  ours_hyperlinks:
    - href: "https://www.facebook.com/LeBidul"
      # [x_mm, y_mm, largeur_mm, hauteur_mm] depuis le bas-gauche de la colonne
      rect_mm: [6, 87, 12, 5]

    - href: "https://www.instagram.com/le_bidul_72"
      rect_mm: [30, 87, 16, 5]

    - href: "http://www.lebidul.com"
      rect_mm: [6, 81, 16, 5]

# Configuration de la boîte "Cucaracha" (anciennement additional_box)
cucaracha_box:
  # Type de contenu: "none", "text", ou "image"
  content_type: "text"

  # Valeur du contenu (chemin de l'image ou texte brut)
  content_value: ""

  # Paramètres du titre
  title: "Cucaracha"
  title_font_name: "Arial-BoldItalic"
  title_font_size: 8

  text_font_name: "Helvetica"
#  text_font_name: "Arial"
  text_font_size: 8
  text_style: "italic" # "normal" ou "italic"
  text_align: "center"   # "left", "center", ou "right"

  # Hauteur de la boîte en mm (si le contenu n'est pas "none")
  height_mm: 28

# Impression facultative de la section de couverture
skip_cover: false

poster:
  enabled: true
  # 0: image au centre, 1: image en fond
  design: 0
  background_image_alpha: 0.75
  title: "le bidul - octobre 2025" # Sera surchargé par la GUI
  font_name_title: "DSNetStamped" # Le nom qu'on a enregistré dans fonts.py
  title_logo_path: "misenpageur/assets/icons/logo-les-arts-services.png"
  title_back_color: "#7F7F7F"
  font_size_title: 34.0
  # Tailles de police pour le corps du texte du poster
  font_size_min: 6.0
  font_size_max: 10.0
  font_size_safety_factor: 0.951
  date_spaceBefore: 3
  date_spaceAfter: 3
  # Activer/désactiver la fonctionnalité
  text_color_auto: true
  # Couleur à utiliser sur fond sombre (généralement blanc)
  text_color_dark_bg: "#FFFFFF"
  # Couleur à utiliser sur fond clair (généralement noir)
  text_color_light_bg: "#000000"
  # Seuil de luminosité (0=noir, 255=blanc).
  # Si la moyenne est en dessous de cette valeur, le fond est considéré "sombre".
  brightness_threshold: 120

packing_strategy:
  # Choix de l'algorithme. Options possibles :
  # 'Global' : Le plus intelligent, essaie tout (bon par défaut).
  # 'BFF' : Best Fit First. Essaie de trouver l'espace le plus juste.
  # 'BNF' : Best Next Fit. Plus rapide, bon pour les remplissages de type "étagère".
  algorithm: 'Global'

  # Comment trier les logos avant de les donner au packer. Options :
  # 'AREA'    : Du plus grand au plus petit (surface). Très efficace.
  # 'MAXSIDE' : Du plus "grand" au plus "petit" (basé sur la plus grande dimension, largeur ou hauteur).
  # 'HEIGHT'  : Du plus haut au moins haut.
  # 'WIDTH'   : Du plus large au moins large.
  sort_algo: 'AREA'

logo_hyperlinks:
- image: "BlueZinc.png"
  href: "https://www.facebook.com/bluezincbar/?locale=fr_FR"
- image: "BrasserieSeptante-Deux.png"
  href: "https://www.brasserieseptantedeux.com/"
- image: "Bulle.png"
  href: "https://www.librairie-bulle.fr/"
- image: "LaCaveDePedro.png"
  href: "https://www.cavedepedro.com/"
- image: "LaPiraterie.png"
  href: "https://www.lacorderaide.com/"
- image: "LeBarouf.png"
  href: "https://www.facebook.com/barouf.lemans/"
- image: "LeLezard.png"
  href: "https://www.facebook.com/p/le-lezard-bar-100055389711041/"
- image: "LeLocalABieres.png"
  href: "https://www.le-local-a-bieres.fr/"
- image: "LeMansLaVille.png"
  href: "https://www.lemans.fr/"
- image: "LePilierRouge.png"
  href: "https://www.facebook.com/p/Bar-Tabac-Le-Pilier-Rouge-100078241743190/"
- image: "RadioAlpa.png                                                                                                                                                            "
  href: "https://radioalpa.com/"
- image: "Superforma.png"
  href: "https://superforma.fr/"
- image: "SyncopeProd.png"
  href: "https://www.facebook.com/p/Syncope-Prod-100009027701073/"
- image: "UnikMusic.png"
  href: "https://www.facebook.com/unikmusicshop/?locale=fr_FR"

stories:
  enabled: true
  output_dir: "misenpageur/bidul/stories"
  width: 1080
  height: 1920
  agenda_font_name: "Arial Narrow" # Mettre un nom de police valide
  agenda_font_size: 18
  text_color: "#62d92f"
  background_color: "#000000"
  margin: 25                # Marge plus petite
  line_spacing_ratio: 2.0   # Interligne plus grand (200%)
